"use strict";(self.webpackChunkgroup1171276705=self.webpackChunkgroup1171276705||[]).push([[824,32],{9032:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});r(2791);var n=r(184);const i=t=>{let{children:e}=t;return(0,n.jsx)("div",{children:e})}},7824:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var n=r(2791),i=r(1067),o=r(2800),s=r(5730);function a(t){return(0,n.useMemo)((()=>t.hooks.dropTarget()),[t])}var d=r(741),c=r(1728),l=r(843);class p{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions)):this.lastConnectedDropTarget=e)}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,d.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=(0,l.p)({dropTarget:(t,e)=>{this.clearDropTarget(),this.dropTargetOptions=e,(0,c.d)(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}var h=r(7724),g=r(4665);var u=r(7036);let f=!1;class T{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;(0,u.k)(!f,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return f=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{f=!1}}isOver(t){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}var m=r(4619);class I{canDrop(){const t=this.spec,e=this.monitor;return!t.canDrop||t.canDrop(e.getItem(),e)}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function D(t,e,r){const i=(0,h.N)(),o=function(t,e){const r=(0,n.useMemo)((()=>new I(t,e)),[e]);return(0,n.useEffect)((()=>{r.spec=t}),[t]),r}(t,e),s=function(t){const{accept:e}=t;return(0,n.useMemo)((()=>((0,u.k)(null!=t.accept,"accept must be defined"),Array.isArray(e)?e:[e])),[e])}(t);(0,g.L)((function(){const[t,n]=(0,m.n)(s,o,i);return e.receiveHandlerId(t),r.receiveHandlerId(t),n}),[i,e,o,r,s.map((t=>t.toString())).join("|")])}function C(t,e){const r=(0,s.w)(t,e),i=function(){const t=(0,h.N)();return(0,n.useMemo)((()=>new T(t)),[t])}(),d=function(t){const e=(0,h.N)(),r=(0,n.useMemo)((()=>new p(e.getBackend())),[e]);return(0,g.L)((()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget())),[t]),r}(r.options);return D(r,i,d),[(0,o.J)(r.collect,i,d),a(d)]}var v=r(4420);var O=r(9032),M=(r(5115),r(184));const b=t=>{let{id:e,index:r,moveItem:o,children:s,columnSize:a}=t;const[d,c]=(0,n.useState)(!1),l=(0,v.I0)(),[{isDragging:p},h]=(0,i.c)({type:"DRAGGABLE_ITEM",item:{id:e,index:r},collect:t=>({isDragging:!!t.isDragging()})}),[,g]=C({accept:"DRAGGABLE_ITEM",hover:(t,e)=>{console.log("itt",t),d||(c(!0),l(addComponent(t)));const n=t.index,i=r;if(n===i)return;const s=e.getClientOffset(),a=s.y+(s.bottom-s.top)/2,p=e.getClientOffset().y-s.top;n<i&&p<a||n>i&&p>a||(o(n,i),t.index=i)}});return(0,M.jsx)("div",{ref:t=>h(g(t)),style:{flex:a?"0 0 ".concat(a/12*100,"%"):void 0,opacity:p?.5:1,cursor:"move",border:"1px solid black",padding:"8px",margin:"8px"},children:s})},x=t=>{let{children:e}=t;const[,r]=C({accept:"DRAGGABLE_ITEM"});return(0,M.jsx)("div",{ref:r,children:e})},y=t=>{let{}=t;const[e,r]=(0,n.useState)([]),{components:i}=(0,v.v9)((t=>t.component));(0,n.useEffect)((()=>{const t=i.map(((t,e)=>{var r;return{id:e+1,columnSize:null===(r=t.styles)||void 0===r?void 0:r.columnSize,content:(0,M.jsx)("div",{onClick:t=>{t.stopPropagation(),_selectedComponent(e)},children:(0,M.jsx)(O.default,{children:JSON.stringify(t)})},e)}}));r(t)}),[i]);const o=(t,n)=>{const i=e[t],o=[...e];o.splice(t,1),o.splice(n,0,i),r(o)};return(0,M.jsx)(x,{children:(0,M.jsx)("div",{className:"components-grids",children:e.map(((t,e)=>(0,M.jsx)(b,{id:t.id,index:e,moveItem:o,columnSize:t.columnSize,children:t.content},t.id)))})})}}}]);
//# sourceMappingURL=824.0314f499.chunk.js.map