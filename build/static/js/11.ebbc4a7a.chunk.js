"use strict";(self.webpackChunkgroup1171276705=self.webpackChunkgroup1171276705||[]).push([[11],{1011:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(2791);const c="sectionMicrophone_g1jGJ",l="buttonMicrophone_Y2vSL",n="iconMicrophone_ruN9i",i="bar_U7seq",o="containerBar_LJ1Wu",r="splot_BDU1s",d="boxDelete_XnIRo",h="boxRecord_HRwDY",x="boxBar_KjFtS",v="sectionRecord_ei4Vp",u="textTime_EIDic",m="boxPlay_PI4Ga",p="buttonDelete_AlD0r",w="iconDelete_nazjh",j="buttonPause_x_tMM",g="iconPause_u6uFU",N="buttonPlay_PM76P",f="iconPlay_xTx_F",M="buttonEnd_NQWBd",_="iconEnd_iNknl",S="buttonRestart_oG8IZ",b="iconRestart_rF1tv";var C=t(184);const k=e=>{let{loadRecordVector:s}=e;const[t,k]=(0,a.useState)(!1),[A,y]=(0,a.useState)(null),[R,B]=(0,a.useState)([]),[V,z]=(0,a.useState)([]),[L,D]=(0,a.useState)(!1),[H,I]=(0,a.useState)(0),[P,U]=(0,a.useState)(null),[Z,E]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new(window.AudioContext||window.webkitAudioContext),t=s.createAnalyser();s.createMediaStreamSource(e).connect(t),t.connect(s.destination),t.fftSize=256,t.smoothingTimeConstant=.3;const a=new MediaRecorder(e);a.ondataavailable=e=>{e.data.size>0&&B((s=>[...s,e.data]))},a.onstop=()=>{console.log("Grabaci\xf3n completada",R);const e=new Blob(R,{type:"audio/wav"}),s=URL.createObjectURL(e);console.log("URL del audio:",s)},y(a);const c=new Uint8Array(t.fftSize),l=setInterval((()=>{L&&I((e=>e+1))}),1e3),n=setInterval((()=>{L&&(()=>{t.getByteFrequencyData(c);const e=c.slice(20*t.fftSize/s.sampleRate,2e3*t.fftSize/s.sampleRate),a=e.reduce(((e,s)=>e+s),0)/(255*e.length)*100;z((e=>[...e,a]))})()}),300);U(l),E(n)})()}),[L]),(0,a.useEffect)((()=>{L||(clearInterval(P),clearInterval(Z))}),[L]);const F=async()=>{A&&(A.stop(),k(!1),I(0))},G=()=>{A.start(),D(!0)},T=e=>{const s=Math.floor(e/60),t=e%60;return"".concat(String(s).padStart(2,"0"),":").concat(String(t).padStart(2,"0"))};return(0,C.jsx)("div",{className:c,children:t?(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("div",{onClick:()=>{A.stop(),D(!1),k(!1),I(0)},className:p,children:(0,C.jsx)("svg",{className:w,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",children:(0,C.jsx)("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})}),L?(0,C.jsxs)("div",{className:d,children:[(0,C.jsx)("div",{className:u,children:T(H)}),(0,C.jsx)("div",{className:i,children:(0,C.jsx)("div",{className:o,children:V.map(((e,s)=>(0,C.jsx)("div",{className:r,style:{height:"".concat(e||1,"%")}},s)))})})]}):(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("div",{onClick:G,className:N,children:(0,C.jsx)("svg",{className:f,xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",children:(0,C.jsx)("path",{d:"M15.05,8.39,2,.32a1,1,0,0,0-1.53.85V16.83A1,1,0,0,0,2,17.7L15,10.1A1,1,0,0,0,15.05,8.39Z",fill:"currentColor"})})}),(0,C.jsx)("div",{className:i,children:(0,C.jsx)("div",{className:o,children:V.map(((e,s)=>(0,C.jsx)("div",{className:r,style:{height:"".concat(e||1,"%")}},s)))})}),(0,C.jsx)("div",{className:u,children:T(H)})]}),(0,C.jsxs)("div",{className:h,children:[(0,C.jsx)("div",{className:m,children:L?(0,C.jsx)("div",{onClick:()=>{console.log("interval 1"),A.stop(),D(!1)},className:j,children:(0,C.jsxs)("svg",{className:g,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,C.jsx)("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),(0,C.jsx)("path",{d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})}):(0,C.jsx)("div",{onClick:G,className:S,children:(0,C.jsx)("svg",{className:b,viewBox:"0 0 24 24",height:"24",width:"24",preserveAspectRatio:"xMidYMid meet",version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:(0,C.jsx)("path",{fill:"currentColor",d:"M11.999,14.942c2.001,0,3.531-1.53,3.531-3.531V4.35c0-2.001-1.53-3.531-3.531-3.531 S8.469,2.35,8.469,4.35v7.061C8.469,13.412,9.999,14.942,11.999,14.942z M18.237,11.412c0,3.531-2.942,6.002-6.237,6.002 s-6.237-2.471-6.237-6.002H3.761c0,4.001,3.178,7.297,7.061,7.885v3.884h2.354v-3.884c3.884-0.588,7.061-3.884,7.061-7.885 L18.237,11.412z"})})})}),(0,C.jsx)("div",{onClick:F,className:M,children:(0,C.jsxs)("svg",{className:_,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",children:[(0,C.jsx)("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})]})]}):(0,C.jsx)("div",{className:l,onClick:()=>{A&&(B([]),z([]),A.start(),k(!0),D(!0),setTimeout((()=>{F()}),1e6))},children:(0,C.jsx)("svg",{className:n,viewBox:"0 0 24 24",height:"24",width:"24",preserveAspectRatio:"xMidYMid meet",version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:(0,C.jsx)("path",{fill:"currentColor",d:"M11.999,14.942c2.001,0,3.531-1.53,3.531-3.531V4.35c0-2.001-1.53-3.531-3.531-3.531 S8.469,2.35,8.469,4.35v7.061C8.469,13.412,9.999,14.942,11.999,14.942z M18.237,11.412c0,3.531-2.942,6.002-6.237,6.002 s-6.237-2.471-6.237-6.002H3.761c0,4.001,3.178,7.297,7.061,7.885v3.884h2.354v-3.884c3.884-0.588,7.061-3.884,7.061-7.885 L18.237,11.412z"})})})})}}}]);
//# sourceMappingURL=11.ebbc4a7a.chunk.js.map